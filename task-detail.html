<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>番茄时钟 - 任务详情</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- iOS 状态栏 -->
    <div class="ios-status-bar">
        <div class="status-bar-time">14:30</div>
        <div class="status-bar-icons">
            <i class="fas fa-signal"></i>
            <i class="fas fa-wifi"></i>
            <i class="fas fa-battery-full"></i>
        </div>
    </div>

    <!-- 内容区域 -->
    <div class="content">
        <!-- 标题和返回按钮 -->
        <div class="flex justify-between items-center mb-4">
            <a href="tasks.html" class="text-primary">
                <i class="fas fa-arrow-left"></i> 返回
            </a>
            <div class="flex gap-2">
                <button class="btn btn-outline rounded-full w-8 h-8 flex items-center justify-center p-0">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="btn btn-outline rounded-full w-8 h-8 flex items-center justify-center p-0 text-danger">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </div>

        <!-- 任务详情 -->
        <div class="card">
            <h1 class="text-xl font-bold mb-2">完成产品原型设计</h1>
            <div class="flex items-center mb-4">
                <span class="text-secondary mr-4">
                    <i class="fas fa-calendar-alt mr-1"></i> 2024-03-12
                </span>
                <span class="text-secondary">
                    <i class="fas fa-tomato text-primary mr-1"></i> 2/4
                </span>
            </div>
            
            <div class="mb-4">
                <h2 class="text-lg font-semibold mb-2">描述</h2>
                <p>设计一个番茄时钟App的高保真原型，包括计时器、任务列表、统计和设置等页面。确保UI设计符合iOS设计规范，并具有良好的用户体验。</p>
            </div>
            
            <div class="progress-bar">
                <div class="progress-bar-fill" style="width: 50%;"></div>
            </div>
            <div class="text-sm text-secondary text-center mt-1">完成进度：50%</div>
        </div>

        <!-- 番茄记录 -->
        <div class="card">
            <h2 class="text-lg font-semibold mb-4">番茄记录</h2>
            
            <div class="list">
                <div class="list-item">
                    <div class="flex-1">
                        <div class="list-item-title">番茄 #1</div>
                        <div class="list-item-subtitle">
                            <i class="fas fa-calendar-alt mr-1"></i> 2024-03-12 10:30
                        </div>
                    </div>
                    <div class="text-primary font-semibold">25:00</div>
                </div>
                
                <div class="list-item">
                    <div class="flex-1">
                        <div class="list-item-title">番茄 #2</div>
                        <div class="list-item-subtitle">
                            <i class="fas fa-calendar-alt mr-1"></i> 2024-03-12 11:05
                        </div>
                    </div>
                    <div class="text-primary font-semibold">25:00</div>
                </div>
            </div>
        </div>

        <!-- 笔记 -->
        <div class="card">
            <h2 class="text-lg font-semibold mb-4">笔记</h2>
            
            <div class="list">
                <div class="list-item">
                    <div class="flex-1">
                        <div class="list-item-title">设计思路</div>
                        <div class="list-item-subtitle">
                            <i class="fas fa-calendar-alt mr-1"></i> 2024-03-12 10:45
                        </div>
                        <p class="mt-2">参考了几个流行的番茄时钟App，决定采用简洁的UI设计，以红色为主色调，突出计时功能。</p>
                    </div>
                </div>
                
                <div class="list-item">
                    <div class="flex-1">
                        <div class="list-item-title">待解决问题</div>
                        <div class="list-item-subtitle">
                            <i class="fas fa-calendar-alt mr-1"></i> 2024-03-12 11:20
                        </div>
                        <p class="mt-2">统计页面的图表展示方式需要进一步优化，考虑使用柱状图和折线图结合的方式。</p>
                    </div>
                </div>
            </div>
            
            <!-- 添加笔记 -->
            <div class="mt-4">
                <textarea class="input" rows="3" placeholder="添加笔记..."></textarea>
                <button class="btn btn-primary mt-2">保存笔记</button>
            </div>
        </div>

        <!-- 开始番茄按钮 -->
        <button class="btn btn-primary btn-large mt-4 mb-4">
            <i class="fas fa-play mr-2"></i> 开始番茄
        </button>
    </div>

    <!-- 底部导航栏 -->
    <div class="bottom-tab-bar">
        <div class="tab-item" data-tab="timer">
            <i class="fas fa-clock"></i>
            <span>计时器</span>
        </div>
        <div class="tab-item active" data-tab="tasks">
            <i class="fas fa-tasks"></i>
            <span>任务</span>
        </div>
        <div class="tab-item" data-tab="statistics">
            <i class="fas fa-chart-bar"></i>
            <span>统计</span>
        </div>
        <div class="tab-item" data-tab="settings">
            <i class="fas fa-cog"></i>
            <span>设置</span>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script>
        // 页面特定的JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化任务管理器
            const taskManager = new TaskManager();
            
            // 在实际应用中，这里会根据URL参数或其他方式获取任务ID
            const taskId = '123456'; // 示例ID
            
            // 获取任务详情（模拟）
            const task = {
                id: taskId,
                title: '完成产品原型设计',
                description: '设计一个番茄时钟App的高保真原型，包括计时器、任务列表、统计和设置等页面。确保UI设计符合iOS设计规范，并具有良好的用户体验。',
                estimatedPomodoros: 4,
                completedPomodoros: 2,
                createdAt: '2024-03-12T10:00:00Z',
                completed: false,
                notes: [
                    {
                        id: '1',
                        title: '设计思路',
                        content: '参考了几个流行的番茄时钟App，决定采用简洁的UI设计，以红色为主色调，突出计时功能。',
                        createdAt: '2024-03-12T10:45:00Z'
                    },
                    {
                        id: '2',
                        title: '待解决问题',
                        content: '统计页面的图表展示方式需要进一步优化，考虑使用柱状图和折线图结合的方式。',
                        createdAt: '2024-03-12T11:20:00Z'
                    }
                ],
                pomodoros: [
                    {
                        id: '1',
                        startTime: '2024-03-12T10:30:00Z',
                        duration: 25 * 60
                    },
                    {
                        id: '2',
                        startTime: '2024-03-12T11:05:00Z',
                        duration: 25 * 60
                    }
                ]
            };
            
            // 开始番茄按钮点击事件
            document.querySelector('.btn-primary.btn-large').addEventListener('click', function() {
                // 在实际应用中，这里会跳转到计时器页面并设置当前任务
                window.location.href = 'timer.html';
            });
            
            // 保存笔记按钮点击事件
            document.querySelector('.btn-primary.mt-2').addEventListener('click', function() {
                const noteContent = document.querySelector('textarea').value.trim();
                
                if (noteContent) {
                    // 在实际应用中，这里会保存笔记
                    alert('笔记已保存');
                    document.querySelector('textarea').value = '';
                }
            });
            
            // 编辑按钮点击事件
            document.querySelector('.fa-edit').parentElement.addEventListener('click', function() {
                // 在实际应用中，这里会跳转到编辑页面
                window.location.href = 'add-task.html';
            });
            
            // 删除按钮点击事件
            document.querySelector('.fa-trash').parentElement.addEventListener('click', function() {
                if (confirm('确定要删除这个任务吗？')) {
                    // 在实际应用中，这里会删除任务并返回任务列表页面
                    window.location.href = 'tasks.html';
                }
            });
        });
    </script>
</body>
</html> 